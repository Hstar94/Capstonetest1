{% extends "base.html" %}
{% block content %}
<div class="container mt-5" style="background-color: #ffffff;">
    <div class="row">
        <!-- Side Menu -->
<!-- <div class="col-md-3">
    <div class="card border border-light side-menu">
        <div class="card-body">
            <h5 class="card-title">Profile</h5>
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link" href="/reports/list">
                        <img src="/static/img/empty-box.png" alt="Search Reports Icon" class="sidebar-icon" style="width: 20px; height: 20px;" style="width: 20px; height: 20px;"> Search Reports
                        <p class="small text-muted">View and search all reports.</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/reports/list?order_by=-created_on&is_public=notpublic&is_archived=notarchived&claimed_by=nobody&tabs=unclaimed_reports">
                        <img src="/static/img/empty-box.png" alt="Unclaimed Icon" class="sidebar-icon" style="width: 20px; height: 20px;" style="width: 20px; height: 20px;"> Unclaimed
                        <p class="small text-muted">Manage unclaimed reports.</p>
                    </a>
                </li>
                {% if user.is_manager or user.is_staff %}
                    <hr>
                    <li class="nav-item">
                        <a class="nav-link" href="/species/list">
                            <img src="/static/img/empty-box.png" alt="Species Icon" class="sidebar-icon" style="width: 20px; height: 20px;" style="width: 20px; height: 20px;"> Species
                            <p class="small text-muted">View and manage species information.</p>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/categories/list">
                            <img src="/static/img/empty-box.png" alt="Categories Icon" class="sidebar-icon" style="width: 20px; height: 20px;" style="width: 20px; height: 20px;"> Categories
                            <p class="small text-muted">View and manage categories.</p>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/severities/list">
                            <img src="/static/img/empty-box.png" alt="Static Pages Icon" class="sidebar-icon" style="width: 20px; height: 20px;" style="width: 20px; height: 20px;"> Static Pages
                            <p class="small text-muted">Manage static pages for content.</p>
                        </a>
                    </li>
                {% endif %}
                {% if user.is_staff %}
                    <hr>
                    <li class="nav-item">
                        <a class="nav-link" href="/users/list">
                            <img src="/static/img/empty-box.png" alt="Users Icon" class="sidebar-icon" style="width: 20px; height: 20px;" style="width: 20px; height: 20px;"> Users
                            <p class="small text-muted">Manage user accounts.</p>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/admin/reports/report/">
                            <img src="/static/img/empty-box.png" alt="Reports Icon" class="sidebar-icon" style="width: 20px; height: 20px;" style="width: 20px; height: 20px;"> Reports
                            <p class="small text-muted">Administer all submitted reports.</p>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/notifications/all">
                            <img src="/static/img/empty-box.png" alt="Subscriptions Icon" class="sidebar-icon" style="width: 20px; height: 20px;" style="width: 20px; height: 20px;"> Subscriptions
                            <p class="small text-muted">View and manage subscriptions.</p>
                        </a>
                    </li>
                {% endif %}
            </ul>
        </div>
    </div>
</div> -->
            </div>
        </div>

        <!-- Main Content -->
        <div class="col-md-9">
            <!-- Profile Card -->
            <div class="card border border-light mb-3">
                <div class="card-body text-center">
                    <a href="/users/avatar/{{ user.pk }}"><img src="{{ user.get_avatar_url|default:'/static/img/avatar_placeholder.png' }}" alt="Profile Picture" class="img-fluid rounded-circle mb-3" width="150"></a>
                    <h3 class="card-title">Hello, {{ user.username|default:"Guest" }}</h3>
                    <p class="card-text">{{ user.biography|default:"You haven't entered a biography or any affiliations yet." }}</p>
                    <a href="{% url 'users-edit' user.pk %}" class="btn btn-outline-primary">Edit Profile</a>
                </div>
            </div>

            <div class="row">
                <!-- Name Card -->
                <div class="col-md-4 mb-3">
                    <div class="card border border-light">
                        <div class="card-body">
                            <h5 class="card-title">Name</h5>
                            <p>First: {{ user.first_name|default:"First" }}</p>
                            <p>Last: {{ user.last_name|default:"Last" }}</p>
                            <button class="btn btn-outline-secondary">Edit Name</button>
                        </div>
                    </div>
                </div>
                <!-- Email and Password Card -->
                <div class="col-md-4 mb-3">
                    <div class="card border border-light">
                        <div class="card-body">
                            <h5 class="card-title">Email & Password</h5>
                            <p>Email: {{ user.email }}</p>
                            <p>Password: ********</p>
                            <a href="/users/edit/5210" class="btn btn-sm btn-outline-secondary mb-2">Edit Email</a>
                            <a href="/password_change/" class="btn btn-sm btn-outline-secondary">Edit Password</a>
                        </div>
                    </div>
                </div>
                <!-- Manager/Admin Card -->
                <div class="col-md-4 mb-3">
                    <div class="card border border-light">
                        <div class="card-body text-center">
                            <h5 class="card-title">User Role</h5>
                            <p>Manager: <img src="{% if user.is_active %}/static/img/check-box.png{% else %}/static/img/empty-box.png{% endif %}" alt="Manager Status" style="width: 20px; height: 20px;"></p>
                            <p>Admin: <img src="{% if user.is_staff %}/static/img/check-box.png{% else %}/static/img/empty-box.png{% endif %}" alt="Admin Status" style="width: 20px; height: 20px;"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
